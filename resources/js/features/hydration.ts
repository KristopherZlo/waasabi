import { setupIcons, setupImageFallbacks, setupScribbleAvatars } from '../core/media';
import { toast } from '../core/toast';
import { setupPublishForm } from './publish';
import { setupArticleEditor } from './editor';
import { setupCommentForms, setupCommentSorts, setupCommentChunks } from './comments';
import { setupReviewForms, setupReviewVotes } from './reviews';
import { setupSpotlightSearch } from './spotlight-search';
import { setupFeedTabs, setupFeedFilters, setupInfiniteFeed, insertFeedQaBlocks, setupQaBlocks } from './feed';
import { setupReadingExperience, updateCardsProgress } from './reading';
import { setupAuthButtons } from '../ui/auth';
import { setupNotificationsMenu, setupNotificationReads } from '../ui/notifications';
import { setupReadLaterMenu, renderReadLaterList } from '../ui/read-later';
import { setupActionMenus } from '../ui/action-menus';
import { setupSettingsModal } from '../ui/settings-modal';
import { setupProfileSettingsForm, setupProfileSettingsPage } from '../ui/profile-settings';
import { setupShareButtons } from '../ui/share';
import { setupReportModal } from '../ui/report';
import { setupAdminModeToggle, setupAdminControls, setupConfirmActions, setupAuthorActions, setupModerationReasonForms } from '../ui/admin';
import { setupTabs } from '../ui/tabs';
import { setupPostJumpButtons } from '../ui/post-jump';
import { setupNsfwReveal } from '../ui/nsfw';
import { setupActionToggles } from '../ui/action-toggles';
import { setupFollowButtons } from '../ui/follow';
import { setupCarousels } from '../ui/carousels';
import { setupNavFooterOffset } from '../ui/nav-footer';
import { setupNotFoundPage } from '../ui/not-found';
import { setupProfileBanner } from '../ui/profile-banner';
import { setupProfileBadges } from './profile-badges';
import { setupIconTooltips } from '../ui/tooltips';
import { setupBannedGuard } from '../ui/banned-guard';
import { setupProfileMedia } from './profile-media';
import { setupCookieConsent } from '../ui/cookie-consent';
import { setupScrollTopRail } from '../ui/scroll-top';
import { setupMediaViewer } from '../ui/media-viewer';
import { setupSupportFaq } from './support';

export const hydratePage = () => {
    setupIcons();
    setupImageFallbacks();
    setupScribbleAvatars();
    const toastMessage = document.body.dataset.toastMessage ?? '';
    if (toastMessage) {
        toast.show(toastMessage);
        delete document.body.dataset.toastMessage;
    }
    setupBannedGuard();
    setupCookieConsent();
    setupPublishForm();
    setupAuthButtons();
    setupArticleEditor();
    setupCommentForms();
    setupCommentSorts();
    setupCommentChunks();
    setupReviewForms();
    setupReviewVotes();
    setupNotificationsMenu();
    setupNotificationReads();
    setupReadLaterMenu();
    setupActionMenus();
    setupSettingsModal();
    setupSpotlightSearch();
    setupSupportFaq();
    setupProfileSettingsForm();
    setupProfileSettingsPage();
    setupShareButtons();
    setupReportModal();
    setupProfileBanner();
    setupProfileBadges();
    setupProfileMedia();
    setupAdminModeToggle();
    setupAdminControls();
    setupModerationReasonForms();
    setupConfirmActions();
    setupAuthorActions();
    setupTabs();
    setupFeedTabs();
    setupFeedFilters();
    setupInfiniteFeed();
    insertFeedQaBlocks();
    setupQaBlocks();
    setupPostJumpButtons();
    setupNsfwReveal();
    setupActionToggles();
    setupFollowButtons();
    setupReadingExperience();
    setupCarousels();
    setupMediaViewer();
    setupIconTooltips();
    setupNavFooterOffset();
    setupScrollTopRail();
    setupNotFoundPage();
    renderReadLaterList();
    updateCardsProgress();
};
